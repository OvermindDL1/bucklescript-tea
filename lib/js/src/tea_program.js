// Generated by ReScript, PLEASE EDIT WITH CARE
'use strict';

var Curry = require("rescript/lib/js/curry.js");
var Caml_option = require("rescript/lib/js/caml_option.js");

function spawn(initState, update, shutdown) {
  var state = {
    contents: Caml_option.some(initState)
  };
  return function (procMsg) {
    var model = state.contents;
    if (model === undefined) {
      return ;
    }
    var model$1 = Caml_option.valFromOption(model);
    if (procMsg) {
      state.contents = Curry._2(update, model$1, procMsg._0);
    } else {
      Curry._1(shutdown, model$1);
      state.contents = undefined;
    }
    
  };
}

var testing1 = 42;

exports.spawn = spawn;
exports.testing1 = testing1;
/* No side effect */
